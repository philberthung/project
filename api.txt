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







BASE_BRANCH = 'main'  # The base branch for the pull request
HEAD_BRANCH = 'feature-branch'  # The branch you're merging from

# Function to create a pull request
def create_pull_request(title, body):
    url = f'https://api.github.com/repos/{REPO}/pulls'
    pr_data = {
        'title': title,
        'body': body,
        'head': HEAD_BRANCH,  # Source branch
        'base': BASE_BRANCH,  # Target branch
    }
    
    response = requests.post(url, json=pr_data, headers=headers)

    # Debugging output
    print("Request Data:", pr_data)  # Show data being sent
    print("Response Status Code:", response.status_code)  # HTTP status code
    print("Response JSON:", response.json())  # Detailed response
    return response.json()

st.markdown("---")  # Separator line

st.header('Create a Pull Request')
pr_title = st.text_input('Pull Request Title', key='pr_title')
pr_body = st.text_area('Pull Request Body', key='pr_body')
if st.button('Create Pull Request'):
    if pr_title:
        result = create_pull_request(pr_title, pr_body)
        if 'html_url' in result:
            st.success(f"Pull Request created: {result['html_url']}")
        else:
            st.error(f"Error creating Pull Request: {result.get('message', 'Unknown error')}")
    else:
        st.error('Please enter a pull request title.')


